{"version":3,"file":"web3authWagmiConnector.cjs.js","mappings":"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","sources":["webpack://@web3auth/web3auth-wagmi-connector/webpack/bootstrap","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/compat get default export","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/define property getters","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/hasOwnProperty shorthand","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/make namespace object","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@babel/runtime/helpers/defineProperty\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@wagmi/core\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/base\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/core\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/openlogin-adapter\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/ui\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs \"ethers\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs \"ethers/lib/utils\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"loglevel\"","webpack://@web3auth/web3auth-wagmi-connector/./src/lib/connector.ts","webpack://@web3auth/web3auth-wagmi-connector/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wagmi/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/base\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/openlogin-adapter\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/ui\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"ethers\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"ethers/lib/utils\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"loglevel\");","import { Chain, Connector, ConnectorData, normalizeChainId, UserRejectedRequestError } from \"@wagmi/core\";\nimport {\n  ADAPTER_EVENTS,\n  ADAPTER_STATUS,\n  CHAIN_NAMESPACES,\n  CustomChainConfig,\n  getChainConfig,\n  IAdapter,\n  LoginMethodConfig,\n  SafeEventEmitterProvider,\n  WALLET_ADAPTER_TYPE,\n  WALLET_ADAPTERS,\n} from \"@web3auth/base\";\nimport { Web3AuthCore } from \"@web3auth/core\";\nimport { OpenloginAdapter } from \"@web3auth/openlogin-adapter\";\nimport LoginModal, { getAdapterSocialLogins, LOGIN_MODAL_EVENTS, OPENLOGIN_PROVIDERS } from \"@web3auth/ui\";\nimport { ethers, Signer } from \"ethers\";\nimport { getAddress } from \"ethers/lib/utils\";\nimport log from \"loglevel\";\n\nimport { Options } from \"./interfaces\";\n\nconst IS_SERVER = typeof window === \"undefined\";\n\nexport class Web3AuthConnector extends Connector {\n  ready = !IS_SERVER;\n\n  readonly id = \"web3Auth\";\n\n  readonly name = \"web3Auth\";\n\n  provider: SafeEventEmitterProvider;\n\n  web3AuthInstance?: Web3AuthCore;\n\n  isModalOpen = false;\n\n  web3AuthOptions: Options;\n\n  loginModal: LoginModal;\n\n  private socialLoginAdapter: OpenloginAdapter;\n\n  constructor(config: { chains?: Chain[]; options: Options }) {\n    super(config);\n    this.web3AuthOptions = config.options;\n    const chainId = config.options.chainId ? parseInt(config.options.chainId, 16) : 1;\n    const chainConfig = this.chains.filter((x) => x.id === chainId);\n\n    const defaultChainConfig = getChainConfig(CHAIN_NAMESPACES.EIP155, config.options.chainId || \"0x1\");\n    let finalChainConfig: CustomChainConfig = {\n      chainNamespace: CHAIN_NAMESPACES.EIP155,\n      ...defaultChainConfig,\n    };\n    if (chainConfig.length > 0) {\n      let currentChain = chainConfig[0];\n      if (config.options.chainId) {\n        currentChain = chainConfig.find((chain) => chain.id === normalizeChainId(config.options.chainId));\n      }\n      finalChainConfig = {\n        ...finalChainConfig,\n        chainNamespace: CHAIN_NAMESPACES.EIP155,\n        chainId: `0x${currentChain.id.toString(16)}`,\n        rpcTarget: currentChain.rpcUrls.default,\n        displayName: currentChain.name,\n        tickerName: currentChain.nativeCurrency?.name,\n        ticker: currentChain.nativeCurrency?.symbol,\n        blockExplorer: currentChain?.blockExplorers.default?.url,\n      };\n    }\n    this.web3AuthInstance = new Web3AuthCore({\n      clientId: config.options.clientId,\n      enableLogging: config.options.enableLogging,\n      storageKey: config.options.storageKey,\n      chainConfig: {\n        chainNamespace: CHAIN_NAMESPACES.EIP155,\n        ...finalChainConfig,\n      },\n    });\n\n    this.socialLoginAdapter = new OpenloginAdapter({\n      adapterSettings: {\n        ...config.options,\n      },\n      loginSettings: {\n        ...(config.options?.socialLoginConfig || {}),\n      },\n      chainConfig: finalChainConfig,\n    });\n\n    this.web3AuthInstance.configureAdapter(this.socialLoginAdapter);\n\n    this.loginModal = new LoginModal({\n      theme: this.options.uiConfig?.theme,\n      appLogo: this.options.uiConfig?.appLogo || \"\",\n      version: \"\",\n      adapterListener: this.web3AuthInstance,\n      displayErrorsOnModal: this.options.displayErrorsOnModal,\n    });\n\n    this.subscribeToLoginModalEvents();\n  }\n\n  getAdapterSocialLogins = (adapterName: string, adapter: IAdapter<unknown>, loginMethodsConfig: LoginMethodConfig = {}): LoginMethodConfig => {\n    const finalLoginMethodsConfig: LoginMethodConfig = {};\n    if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n      OPENLOGIN_PROVIDERS.forEach((loginMethod) => {\n        const currentLoginMethodConfig = loginMethodsConfig[loginMethod] || {\n          name: loginMethod,\n          showOnMobile: true,\n          showOnModal: true,\n          showOnDesktop: true,\n        };\n        finalLoginMethodsConfig[loginMethod] = { ...currentLoginMethodConfig };\n      });\n      log.debug(\"OpenLogin login method ui config\", finalLoginMethodsConfig);\n    } else {\n      throw new Error(`${adapterName} is not a valid adapter`);\n    }\n    return finalLoginMethodsConfig;\n  };\n\n  async connect(): Promise<Required<ConnectorData>> {\n    try {\n      this.emit(\"message\", {\n        type: \"connecting\",\n      });\n\n      await this.loginModal.initModal();\n\n      this.loginModal.addSocialLogins(\n        WALLET_ADAPTERS.OPENLOGIN,\n        getAdapterSocialLogins(WALLET_ADAPTERS.OPENLOGIN, this.socialLoginAdapter, this.options.uiConfig?.loginMethodConfig),\n        this.options.uiConfig?.loginMethodsOrder || OPENLOGIN_PROVIDERS\n      );\n      if (this.web3AuthInstance.status !== ADAPTER_STATUS.READY) {\n        await this.web3AuthInstance.init();\n      }\n\n      // Check if there is a user logged in\n      const isLoggedIn = await this.isAuthorized();\n\n      // if there is a user logged in, return the user\n      if (isLoggedIn) {\n        const provider = await this.getProvider();\n        const chainId = await this.getChainId();\n        if (provider.on) {\n          provider.on(\"accountsChanged\", this.onAccountsChanged.bind(this));\n          provider.on(\"chainChanged\", this.onChainChanged.bind(this));\n        }\n        const unsupported = this.isChainUnsupported(chainId);\n\n        return {\n          provider,\n          chain: {\n            id: chainId,\n            unsupported,\n          },\n          account: await this.getAccount(),\n        };\n      }\n\n      this.loginModal.open();\n      const elem = document.getElementById(\"w3a-container\");\n      elem.style.zIndex = \"10000000000\";\n      return await new Promise((resolve, reject) => {\n        this.loginModal.once(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, (isVisible: boolean) => {\n          if (!isVisible && !this.web3AuthInstance.provider) {\n            return reject(new Error(\"User closed popup\"));\n          }\n        });\n        this.web3AuthInstance.once(ADAPTER_EVENTS.CONNECTED, async () => {\n          const signer = await this.getSigner();\n          const account = await signer.getAddress();\n          const provider = await this.getProvider();\n\n          if (provider.on) {\n            provider.on(\"accountsChanged\", this.onAccountsChanged.bind(this));\n            provider.on(\"chainChanged\", this.onChainChanged.bind(this));\n          }\n          const chainId = await this.getChainId();\n          const unsupported = this.isChainUnsupported(chainId);\n\n          return resolve({\n            account,\n            chain: {\n              id: chainId,\n              unsupported,\n            },\n            provider,\n          });\n        });\n        this.web3AuthInstance.once(ADAPTER_EVENTS.ERRORED, (err: unknown) => {\n          log.error(\"error while connecting\", err);\n          return reject(err);\n        });\n      });\n    } catch (error) {\n      log.error(\"error while connecting\", error);\n      throw new UserRejectedRequestError(\"Something went wrong\");\n    }\n  }\n\n  async getAccount(): Promise<string> {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider());\n    const signer = provider.getSigner();\n    const account = await signer.getAddress();\n    return account;\n  }\n\n  async getProvider() {\n    if (this.provider) {\n      return this.provider;\n    }\n    this.provider = this.web3AuthInstance.provider;\n    return this.provider;\n  }\n\n  async getSigner(): Promise<Signer> {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider());\n    const signer = provider.getSigner();\n    return signer;\n  }\n\n  async isAuthorized() {\n    try {\n      const account = await this.getAccount();\n      return !!(account && this.provider);\n    } catch {\n      return false;\n    }\n  }\n\n  async getChainId(): Promise<number> {\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        const networkOptions = this.socialLoginAdapter.chainConfigProxy;\n        if (typeof networkOptions === \"object\") {\n          const chainID = networkOptions.chainId;\n          if (chainID) {\n            return normalizeChainId(chainID);\n          }\n        }\n      } else {\n        const chainId = await provider.request({ method: \"eth_chainId\" });\n        if (chainId) {\n          return normalizeChainId(chainId as string);\n        }\n      }\n      throw new Error(\"Chain ID is not defined\");\n    } catch (error) {\n      log.error(\"error\", error);\n      throw error;\n    }\n  }\n\n  async switchChain(chainId: number) {\n    try {\n      const chain = this.chains.find((x) => x.id === chainId);\n      if (!chain) throw new Error(`Unsupported chainId: ${chainId}`);\n      const provider = this.getProvider();\n      if (!provider) throw new Error(\"Please login first\");\n      // eslint-disable-next-line no-console\n      console.log(\"chain\", chain);\n      this.provider.request({\n        method: \"wallet_addEthereumChain\",\n        params: [\n          {\n            chainId: `0x${chain.id.toString(16)}`,\n            chainName: chain.name,\n            rpcUrls: [chain.rpcUrls.default],\n            blockExplorerUrls: [chain.blockExplorers?.default?.url],\n            nativeCurrency: {\n              symbol: chain.nativeCurrency?.symbol || \"ETH\",\n            },\n          },\n        ],\n      });\n      await this.provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [\n          {\n            chainId: `0x${chain.id.toString(16)}`,\n          },\n        ],\n      });\n      return chain;\n    } catch (error) {\n      log.error(\"Error: Cannot change chain\", error);\n      throw error;\n    }\n  }\n\n  async disconnect(): Promise<void> {\n    await this.web3AuthInstance.logout();\n    this.provider = null;\n  }\n\n  protected onAccountsChanged(accounts: string[]): void {\n    if (accounts.length === 0) this.emit(\"disconnect\");\n    else this.emit(\"change\", { account: getAddress(accounts[0]) });\n  }\n\n  protected isChainUnsupported(chainId: number): boolean {\n    return !this.chains.some((x) => x.id === chainId);\n  }\n\n  protected onChainChanged(chainId: string | number): void {\n    const id = normalizeChainId(chainId);\n    const unsupported = this.isChainUnsupported(id);\n    this.emit(\"change\", { chain: { id, unsupported } });\n  }\n\n  protected onDisconnect(): void {\n    this.emit(\"disconnect\");\n  }\n\n  private subscribeToLoginModalEvents(): void {\n    this.loginModal.on(LOGIN_MODAL_EVENTS.LOGIN, async (params: { adapter: WALLET_ADAPTER_TYPE; loginParams: unknown }) => {\n      try {\n        await this.web3AuthInstance.connectTo<unknown>(params.adapter, params.loginParams);\n      } catch (error) {\n        log.error(`Error while connecting to adapter: ${params.adapter}`, error);\n      }\n    });\n\n    this.loginModal.on(LOGIN_MODAL_EVENTS.DISCONNECT, async () => {\n      try {\n        await this.disconnect();\n      } catch (error) {\n        log.error(`Error while disconnecting`, error);\n      }\n    });\n  }\n}\n","export * from \"./lib/connector\";\n"],"names":["Connector","normalizeChainId","UserRejectedRequestError","ADAPTER_EVENTS","ADAPTER_STATUS","CHAIN_NAMESPACES","getChainConfig","WALLET_ADAPTERS","Web3AuthCore","OpenloginAdapter","LoginModal","getAdapterSocialLogins","LOGIN_MODAL_EVENTS","OPENLOGIN_PROVIDERS","ethers","getAddress","log","IS_SERVER","window","Web3AuthConnector","constructor","config","adapterName","adapter","loginMethodsConfig","finalLoginMethodsConfig","OPENLOGIN","forEach","loginMethod","currentLoginMethodConfig","name","showOnMobile","showOnModal","showOnDesktop","debug","Error","web3AuthOptions","options","chainId","parseInt","chainConfig","chains","filter","x","id","defaultChainConfig","EIP155","finalChainConfig","chainNamespace","length","currentChain","find","chain","toString","rpcTarget","rpcUrls","default","displayName","tickerName","nativeCurrency","ticker","symbol","blockExplorer","blockExplorers","url","web3AuthInstance","clientId","enableLogging","storageKey","socialLoginAdapter","adapterSettings","loginSettings","socialLoginConfig","configureAdapter","loginModal","theme","uiConfig","appLogo","version","adapterListener","displayErrorsOnModal","subscribeToLoginModalEvents","connect","emit","type","initModal","addSocialLogins","loginMethodConfig","loginMethodsOrder","status","READY","init","isLoggedIn","isAuthorized","provider","getProvider","getChainId","on","onAccountsChanged","bind","onChainChanged","unsupported","isChainUnsupported","account","getAccount","open","elem","document","getElementById","style","zIndex","Promise","resolve","reject","once","MODAL_VISIBILITY","isVisible","CONNECTED","signer","getSigner","ERRORED","err","error","providers","Web3Provider","networkOptions","chainConfigProxy","chainID","request","method","switchChain","console","params","chainName","blockExplorerUrls","disconnect","logout","accounts","some","onDisconnect","LOGIN","connectTo","loginParams","DISCONNECT"],"sourceRoot":""}